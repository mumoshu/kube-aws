
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Step 3: Launch Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/site.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="step-4-update.html" />
    
    
    <link rel="prev" href="step-2-render.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="./">
            
                <a href="./">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="prerequisites.html">
            
                <a href="prerequisites.html">
            
                    
                    Prerequisites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="step-1-configure.html">
            
                <a href="step-1-configure.html">
            
                    
                    Step 1: Configure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="step-2-render.html">
            
                <a href="step-2-render.html">
            
                    
                    Step 2: Render
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.4" data-path="step-3-launch.html">
            
                <a href="step-3-launch.html">
            
                    
                    Step 3: Launch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="step-4-update.html">
            
                <a href="step-4-update.html">
            
                    
                    Step 4: Update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="step-5-add-node-pool.html">
            
                <a href="step-5-add-node-pool.html">
            
                    
                    Step 5: Add Node Pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="step-6-configure-add-ons.html">
            
                <a href="step-6-configure-add-ons.html">
            
                    
                    Step 6: Configure Add-ons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="step-7-destroy.html">
            
                <a href="step-7-destroy.html">
            
                    
                    Step 7: Destroy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../getting-in-touch.html">
            
                <a href="../getting-in-touch.html">
            
                    
                    Getting In Touch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../cli-reference/">
            
                <a href="../cli-reference/">
            
                    
                    CLI Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../cli-reference/aws-credentials.html">
            
                <a href="../cli-reference/aws-credentials.html">
            
                    
                    AWS Credentials
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../add-ons/">
            
                <a href="../add-ons/">
            
                    
                    Add-ons
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../add-ons/cluster-resource-backup-to-s3.html">
            
                <a href="../add-ons/cluster-resource-backup-to-s3.html">
            
                    
                    Cluster Resource Backup to AWS S3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../add-ons/journald-logging-to-cloudwatch.html">
            
                <a href="../add-ons/journald-logging-to-cloudwatch.html">
            
                    
                    Journald Logging to AWS CloudWatch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../guides/">
            
                <a href="../guides/">
            
                    
                    Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../guides/operator-guide.html">
            
                <a href="../guides/operator-guide.html">
            
                    
                    Operator Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../guides/contributor-guide.html">
            
                <a href="../guides/contributor-guide.html">
            
                    
                    Contributor Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../advanced-topics/">
            
                <a href="../advanced-topics/">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../advanced-topics/etcd-backup-and-restore.html">
            
                <a href="../advanced-topics/etcd-backup-and-restore.html">
            
                    
                    etcd Backup & Restore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../advanced-topics/cloudformation-updates-in-cli.html">
            
                <a href="../advanced-topics/cloudformation-updates-in-cli.html">
            
                    
                    CloudFormation Updates in CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../advanced-topics/use-an-existing-vpc.html">
            
                <a href="../advanced-topics/use-an-existing-vpc.html">
            
                    
                    Use An Existing VPC
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../troubleshooting/">
            
                <a href="../troubleshooting/">
            
                    
                    Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../troubleshooting/known-limitations.html">
            
                <a href="../troubleshooting/known-limitations.html">
            
                    
                    Known Limitations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../troubleshooting/common-problems.html">
            
                <a href="../troubleshooting/common-problems.html">
            
                    
                    Common Problems
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../tutorials/quick-start.html">
            
                <a href="../tutorials/quick-start.html">
            
                    
                    Quick Start (WIP)
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Step 3: Launch</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="launch-your-kubernetes-cluster-on-aws">Launch your Kubernetes cluster on AWS</h1>
<p>This is the <a href="./">third step of running Kubernetes on AWS</a>. We&apos;re ready to launch the Kubernetes cluster.</p>
<h2 id="create-the-instances-defined-in-the-cloudformation-template">Create the instances defined in the CloudFormation template</h2>
<p>Now for the exciting part, creating your cluster:</p>
<pre class="language-"><code class="lang-sh">$ kube-aws up --s3-uri s3://<span class="token operator">&lt;</span>your-bucket-name<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>prefix<span class="token operator">&gt;</span>
</code></pre>
<p><strong>NOTE</strong>: It can take some time after <code>kube-aws up</code> completes before the cluster is available. When the cluster is first being launched, it must download all container images for the cluster components (Kubernetes, dns, heapster, etc). Depending on the speed of your connection, it can take a few minutes before the Kubernetes api-server is available.</p>
<h2 id="configure-dns">Configure DNS</h2>
<p>If you configured Route 53 settings in your configuration above via <code>createRecordSet</code>, a host record has already been created for you.</p>
<p>Otherwise, navigate to the DNS registrar hosting the zone for the provided external DNS name. Ensure a single A record exists, routing the value of <code>externalDNSName</code> defined in <code>cluster.yaml</code> to the externally-accessible IP of the master node instance.</p>
<p>You can invoke <code>kube-aws status</code> to get the cluster API endpoint after cluster creation, if necessary. This command can take a while.</p>
<h2 id="access-the-cluster">Access the cluster</h2>
<p>A kubectl config file will be written to a <code>kubeconfig</code> file, which can be used to interact with your Kubernetes cluster like so:</p>
<pre class="language-"><code class="lang-sh">$ kubectl --kubeconfig<span class="token operator">=</span>kubeconfig get nodes
</code></pre>
<p>If the container images are still downloading and/or the API server isn&apos;t accessible yet, the kubectl command above may show output similar to:</p>
<pre class="language-"><code>The connection to the server <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>externalDNSName</span><span class="token punctuation">&gt;</span></span>:443 was refused - did you specify the right host or port?
</code></pre><p>Wait a few more minutes for everything to complete.</p>
<p>Once the API server is running, you should see:</p>
<pre class="language-"><code class="lang-sh">$ kubectl --kubeconfig<span class="token operator">=</span>kubeconfig get nodes
NAME                                       STATUS                     AGE
ip-10-0-0-xxx.us-west-1.compute.internal   Ready                      5m
ip-10-0-0-xxx.us-west-1.compute.internal   Ready                      5m
ip-10-0-0-xx.us-west-1.compute.internal    Ready,SchedulingDisabled   5m
</code></pre>
<div class="co-m-docs-next-step">
  <p><strong>You&apos;re all done!</strong> The cluster is ready to use.</p>
  <p>For full lifecycle information, read on below.</p>
</div>

<h2 id="export-the-cloudformation-stack">Export the CloudFormation stack</h2>
<p>If you want to share, audit or back up your stack, use the export flag:</p>
<pre class="language-"><code class="lang-sh">$ kube-aws up --export
</code></pre>
<p>Once you have successfully launched your cluster, you are ready to <a href="step-4-update.html">update your cluster</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="step-2-render.html" class="navigation navigation-prev " aria-label="Previous page: Step 2: Render">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="step-4-update.html" class="navigation navigation-next " aria-label="Next page: Step 4: Update">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Step 3: Launch","level":"1.2.4","depth":2,"next":{"title":"Step 4: Update","level":"1.2.5","depth":2,"path":"getting-started/step-4-update.md","ref":"getting-started/step-4-update.md","articles":[]},"previous":{"title":"Step 2: Render","level":"1.2.3","depth":2,"path":"getting-started/step-2-render.md","ref":"getting-started/step-2-render.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","prism","-highlight","github","anchorjs"],"root":"docs","styles":{"website":"styles/site.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/kubernetes-incubator/kube-aws"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/kube-aws/docs/tree/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sidebar":{}},"gitbook":"*"},"file":{"path":"getting-started/step-3-launch.md","mtime":"2017-08-23T06:08:57.805Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-08-23T06:11:20.681Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

